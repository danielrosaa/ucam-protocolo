<div class="screen">
  <app-sidebar class="sidebar"></app-sidebar>
  <div class="container">
    <app-header class='header'></app-header>
    <div class="content">

      <div class="title">
        <div class="left">
          <img src="./../assets/images/marca-aplicacao.svg" alt="Marca Protocolo">
          <span>/ Natureza do requerimento</span>
        </div>
        <div class="right">
          <div class="left"><i class="material-icons">equalizer</i> Todos os protocolos</div>
          <div class="right">
            <div>343</div>
            <div><span>+6</span> essa semana</div>
          </div>
          <i class="material-icons">keyboard_arrow_down</i>
        </div>
      </div>

      <div class="busca">
        <div class="title">
          <div>Natureza do requerimento</div>
          <div>Tela de cadastro</div>
        </div>

        <form [formGroup]="form" class="form" (ngSubmit)='addItem(descricao)'>
          <div class="descricao">
            <label for="descricao">Descrição <span class="error" *ngIf="descricao.touched && descricao.invalid">Campo obrigatório</span></label>
            <input type="text" id="descricao" placeholder="Preencha aqui" formControlName="descricao" #desc [class]="(descricao.touched && descricao.invalid) ? 'error': ''">
          </div>
          <div class="input">
            <label for="input">Input 2</label>
            <input type="text" id="input" placeholder="Preencha aqui" formControlName="input">
          </div>
          <div class="submit">
            <button *ngIf="!editar" type='submit'>Nova Natureza</button>
            <button *ngIf="editar" type='submit' #editar (click)='updateProtocolo()'>Editar</button>
            <button type="reset" (click)="clearForm()">Limpar</button>
          </div>
        </form>
        <div *ngIf="form.errors" class="error">O campo "descrição" é obrigatório</div>
      </div>

      <app-lista
        [protocolo]="protocolo"
        (edit)="editItem($event, desc)"
        (delete)="deleteProtocolo($event)">
      </app-lista>
      <!-- <div class="table" *ngIf="protocolo.length > 0">
        <table>
          <thead>
            <th>Nomes</th>
            <th>Unidades Envolvidas</th>
            <th>Tipos de Natureza</th>
            <th></th>
          </thead>
          <tbody>
            <tr *ngFor="let item of protocolo; index as i">
              <td>
                  <div class="nome">{{ item.nome }}</div>
                  <div class="subtitulo">{{ item.subtitulo }}</div>
              </td>
              <td>{{ item.unidade }}</td>
              <td>{{ item.tipos_natureza}}</td>
              <td>
                <button type="button" class="actions visualizar"><i class="material-icons">visibility</i> Visualizar</button>
                <button type="button" class="actions" (click)="editItem(i, desc, editar)"><i class="material-icons">edit</i> Editar</button>
                <button type="button" class="actions" (click)="deleteProtocolo(i)"><i class="material-icons">delete_outline</i> Deletar</button>
              </td>
            </tr>

          </tbody>
        </table>
      </div> -->

    </div>
  </div>
</div>
